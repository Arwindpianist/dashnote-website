{"ast":null,"code":"import CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\nexport default {\n  name: \"LinesParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n      if (this.color) {\n        canvas.style.backgroundColor = this.color;\n      }\n    },\n    canvasResize({\n      width,\n      height\n    }) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n      const emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.num ? this.num : 250);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(1.5), new Proton.Span(0, 360), \"polar\"));\n      const mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n      const attractionBehaviour = new Proton.Attraction(mouseObj, 0, 0);\n      const crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    },\n    createRenderer(canvas) {\n      const context = canvas.getContext(\"2d\");\n      const renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = () => {\n        context.fillStyle = getColor(this.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n      renderer.onParticleUpdate = function (particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n      return renderer;\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};","map":{"version":3,"names":["CanvasComp","Proton","RAFManager","getColor","name","components","props","canvas","Object","bg","Boolean","color","String","num","Number","config","methods","canvasInited","createProton","add","renderProton","style","backgroundColor","canvasResize","width","height","crossZoneBehaviour","zone","proton","renderers","resize","canvasMouseDown","e","emitter","Emitter","damping","rate","Rate","addInitialize","Mass","Radius","Velocity","Span","mouseObj","x","y","attractionBehaviour","Attraction","CrossZone","RectZone","addBehaviour","Color","RandomDrift","p","emit","addEmitter","addRenderer","createRenderer","context","getContext","renderer","CanvasRenderer","onProtonUpdate","fillStyle","fillRect","onParticleUpdate","particle","beginPath","strokeStyle","lineWidth","moveTo","old","lineTo","closePath","stroke","update","beforeDestroy","destroy","remove"],"sources":["/home/arwin/Desktop/code/dashnote/dashnote-website/node_modules/particles-bg-vue/src/particles-bg/particles/LinesParticles.vue"],"sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"source-over\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\n\nexport default {\n  name: \"LinesParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n      if (this.color) {\n        canvas.style.backgroundColor = this.color;\n      }\n    },\n    canvasResize({ width, height }) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n\n      const emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.num ? this.num : 250);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4));\n      emitter.addInitialize(\n        new Proton.Velocity(\n          new Proton.Span(1.5),\n          new Proton.Span(0, 360),\n          \"polar\"\n        )\n      );\n      \n      const mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n      const attractionBehaviour = new Proton.Attraction(mouseObj, 0, 0);\n      const crossZoneBehaviour = new Proton.CrossZone(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height),\n        \"cross\"\n      );\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    },\n    createRenderer(canvas) {\n      const context = canvas.getContext(\"2d\");\n      const renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = () => {\n        context.fillStyle =\n          getColor(this.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleUpdate = function(particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n\n      return renderer;\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}