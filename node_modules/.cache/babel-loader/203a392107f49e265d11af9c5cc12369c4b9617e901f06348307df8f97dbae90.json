{"ast":null,"code":"import CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nconst colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\nexport default {\n  name: \"FountainParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n      if (this.color) {\n        canvas.style.backgroundColor = this.color;\n      }\n    },\n    canvasResize({\n      width,\n      height\n    }) {\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n      const emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.num ? new Proton.Span(this.num) : new Proton.Span(4, 8), new Proton.Span(0.1, 0.25));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(20, 200));\n      emitter.addInitialize(new Proton.Life(2, 4));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(4, 7), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.CircleZone(width / 2, height / 2, 100)));\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(new Proton.Scale(0.2, 1));\n      emitter.addBehaviour(this.createCustomBehaviour());\n      emitter.addBehaviour(new Proton.Color(colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      const renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    },\n    createCustomBehaviour() {\n      const f = 10 * 100;\n      return {\n        initialize: function (particle) {\n          particle.f = new Proton.Vector2D(0, 0);\n        },\n        applyBehaviour: particle => {\n          let length = particle.v.length() / 1000;\n          let gradient = particle.v.getGradient();\n          gradient += 3.14 / 2;\n          particle.f.x = f * length * Math.cos(gradient);\n          particle.f.y = f * length * Math.sin(gradient);\n          particle.a.add(particle.f);\n        }\n      };\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};","map":{"version":3,"names":["CanvasComp","Proton","RAFManager","colors","name","components","props","canvas","Object","bg","Boolean","color","String","num","Number","config","methods","canvasInited","createProton","add","renderProton","style","backgroundColor","canvasResize","width","height","proton","renderers","resize","canvasMouseDown","e","emitter","Emitter","rate","Rate","Span","addInitialize","Mass","Radius","Life","Velocity","Position","CircleZone","addBehaviour","Alpha","Scale","createCustomBehaviour","Color","emit","addEmitter","renderer","CanvasRenderer","addRenderer","f","initialize","particle","Vector2D","applyBehaviour","length","v","gradient","getGradient","x","Math","cos","y","sin","a","update","beforeDestroy","destroy","remove"],"sources":["/home/arwin/Desktop/code/dashnote/dashnote-website/node_modules/particles-bg-vue/src/particles-bg/particles/FountainParticles.vue"],"sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"xor\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\n\nconst colors = [\n  \"#529B88\",\n  \"#CDD180\",\n  \"#FFFA32\",\n  \"#FB6255\",\n  \"#FB4A53\",\n  \"#FF4E50\",\n  \"#F9D423\"\n];\n\nexport default {\n  name: \"FountainParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n      if (this.color) {\n        canvas.style.backgroundColor = this.color;\n      }\n    },\n    canvasResize({ width, height }) {\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n      const emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(\n        this.num ? new Proton.Span(this.num) : new Proton.Span(4, 8),\n        new Proton.Span(0.1, 0.25)\n      );\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(20, 200));\n      emitter.addInitialize(new Proton.Life(2, 4));\n      emitter.addInitialize(\n        new Proton.Velocity(\n          new Proton.Span(4, 7),\n          new Proton.Span(0, 360),\n          \"polar\"\n        )\n      );\n      emitter.addInitialize(\n        new Proton.Position(new Proton.CircleZone(width / 2, height / 2, 100))\n      );\n\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(new Proton.Scale(0.2, 1));\n      emitter.addBehaviour(this.createCustomBehaviour());\n      emitter.addBehaviour(new Proton.Color(colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      const renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    },\n    createCustomBehaviour() {\n      const f = 10 * 100;\n      return {\n        initialize: function(particle) {\n          particle.f = new Proton.Vector2D(0, 0);\n        },\n        applyBehaviour: particle => {\n          let length = particle.v.length() / 1000;\n          let gradient = particle.v.getGradient();\n          gradient += 3.14 / 2;\n\n          particle.f.x = f * length * Math.cos(gradient);\n          particle.f.y = f * length * Math.sin(gradient);\n          particle.a.add(particle.f);\n        }\n      };\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}